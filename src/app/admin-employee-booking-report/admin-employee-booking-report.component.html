<div class="alert alert-danger" *ngIf="errorMessage">
    <button type="button" class="close" aria-hidden="true" (click)="errorClosed()">&times;</button>
    <strong>Error </strong>{{errorMessage}}
  </div>
  
  <div class="alert alert-success" *ngIf="successMessage">
    <button type="button" class="close" (click)="successClosed()" aria-hidden="true">&times;</button>
    <strong>Success </strong> {{successMessage}}
  </div>
  


<form #reportForm="ngForm" (ngSubmit)="generateEmployeeReport(reportForm)">
  <mat-form-field appearance="outline">
    <mat-label for="empId">Enter Employee Id</mat-label>
    <input matInput name="empId" #empId="ngModel" ngModel required type="number" placeholder="121">
    <mat-error *ngIf="empId.touched && empId.invalid">
      *This field is mandatory
    </mat-error>
  </mat-form-field>
  <button style = "margin-left : 50%" type="submit" mat-raised-button color="primary" data-toggle="modal" data-target="#exampleModalCenter"
    [disabled]="!reportForm.valid"> Generate Report</button>
</form>

<mat-progress-spinner color="accent" mode="indeterminate" *ngIf = "dataLoaded != undefined && !dataLoaded" style="margin:0 auto;">
  </mat-progress-spinner>
  
<div *ngIf="dataLoaded && !errorMessage">

  <div class="alert alert-info" *ngIf="bookings.length == 0">
    Employee doesn't have any bookings yet!
  </div>

  <div style="display: block;" class="bar-chart-wrapper" *ngIf="bookings.length > 0">
    <canvas baseChart [datasets]="barChartData" [labels]="barChartLabels" [options]="barChartOptions"
      [plugins]="barChartPlugins" [legend]="barChartLegend" [chartType]="barChartType">
    </canvas>
  </div>
  <button mat-button mat-raised-button  *ngIf="bookings.length > 0" color="primary" onClick="window.print()">Print</button>
</div>